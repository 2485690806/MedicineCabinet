# 移动管理端接口

| 时间          | 内容   | 编辑者 | 版本 | 变更内容 |
| ------------- | :----- | ------ | ---- | -------- |
| 2024年8月21号 | 草拟稿 | 吴杭   | V1   | 第一版   |
|               |        |        |      |          |
|               |        |        |      |          |
|               |        |        |      |          |

## 0.通用配置 

- 接口域名：`bingxiang.letmelife.com`  （后续根据不同的部署，可能会更换）
- 接口地址公共部分：`https://{域名}/tcstore/`

### 0.1 公共参数

#### 必须参数

- header：
  - ​	uid：预设的访问id

#### GET方法

- query 参数 即拼接在地址？后面的键值对：

  - pageNo：分页参数的序页号，从1开始，必须参数，缺省值为1

  - pageSize：分页参数的分页大小，，必须参数，缺省值为1

### 0.2 返回格式

#### 消息body

json 格式

```json
{
    "success":true,
    "message":"操作成功！",
    "code":200,
    "result": 返回单个记录的是对应的记录对象，有分页的接口则是分页对象，视具体接口决定,
    "timestamp":"1706247369420"
}
```

#### 分页结果

如果接口带分页，则 result 字段是一个 page 对象，真正的结果放在 recodes 数组

```json
"result":{
    "recodes":[
        {记录1},
        {记录2},
        {记录3},
        //.....
    ],
    "total":"1",//查询结果总分页数
    "size":"2",//分页大小
    "current":"1",//当前页
    "orders":[],//排序字段
}
```

## 1. 接口

### 1.1 登录

由对方实现

### 1.2 工作台

#### 1.2.1 订单

##### 获取已完成订单

- Endpoint： `completedOrder/getList`

- Method：GET

- query 参数：

  - 分页默认参数
  - dealStatus：可选，状态，210:待处理 220:确定重新扣款(系统退款处理中) 230:扣款成功 240 扣款轮询中 250:扣款失败
  - orderId：可选，订单编号
  - deviceId：可选，设备编号
  - deviceNameLike：必须选设备名称（模糊查询）
  - phone：可选，手机号码
  - payWay:  可选，支付方式
  - isDiscount：可选，是否参与优惠
  - createTimeEnd：可选
  - createTimeStart：可选
  - refundStatus：退款状态枚举 99:无售后记录 100:售后中, 110:售后退款中, 120:售后审核不通过, 130:系统退款失败, 140:退款成功(或部分退款)

- 响应：

  如果接口带分页，则 result 字段是一个 page 对象，真正的结果放在 recodes 数组

  ```json
   "records": [
              {
                  "orderDetailList": [
                      {
                          "orderId": "20240826114322278999",			//订单id
                          "goodsId": "19769011734",					//商品id
                          "goodsName": "*康师傅茉莉蜜茶系列500ml",			//商品名称
                          "goodsCode": "ksfmlmcxl",					//商品编号
                          "buyCount": 1,								//购买数量
                          "costPrice": 0.000,							//商品成本价(单个)
                          "salePrice": 2.550,							//商品销售价(单个)
                          "costCountPrice": 0.00,						//成本总价
                          "saleCountPrice": 2.55,						//销售总价
                          "isRecognition": 1,							//是否成功识别
                          "recognition": 100.00						//识别置信度(百分比值)
                      }
                  ],
                  "id": "2307771",
                  "orderId": "20240826114322278999",
                  "orderStatus": 70,
                  //订单状态枚举 0:订单已创建, 10:进行中, 20:识别中, 30:识别异常, 40:支付中, 50:扣款轮询中, 60:支付失败, 70:已完成, 80:已取						消,90,开门失败取消订单
                  "refundStatus": 99,	
                  //退款状态枚举 99:无售后记录 100:售后中, 110:售后退款中, 120:售后审核不通过, 130:系统退款失败, 140:退款成功(或部分退款)
                  "orderName": "智慧零售",	//订单名称
                  "isPay": 1,					//是否已支付 0:否 1:是
                  "payWay": 0,				//支付方式（0.微信，1.支付宝）
                  "payTime": "2024-08-26 11:44:17",	//支付时间
                  "userId": "17223906643714544677",
                  "deviceId": "MD0003",			
                  "deviceName": "鑫贯金属多温-lm",
                  "administratorId": "164748790826984",
                  "doorOpen": "2024-08-26 11:43:35",
                  "doorClose": "2024-08-26 11:43:48",
                  "orderNotify": "2024-08-26 11:44:13",
                  "orderMoney": 2.55,
                  "priceOriginal": 2.55,
                  "priceCost": 0.00,
                  "priceDiscount": 0.00,
                  "priceProfit": 2.55,
                  "isDiscount": null,						//是否优惠
                  "selfVideo1": "/20240826/mp4/20240826114322278999-1724643833305031615.mp4",
                  "selfVideo2": "/20240826/mp4/20240826114322278999-1724643833309004343.mp4",
                  "phone": "13533790426",
                  "createTime": "2024-08-26 11:43:23",
                  "activityId": "20240826114322278999",
                  "deviceType": "12"						//设备类型
              },
     ]
  ```

##### 获取单个已完成订单

- Endpoint： `completedOrder/getOne`

- Method：GET

- query 参数：

  - id

- 响应：

  ```json
   "result": {
                  "orderDetailList": [
                      {
                          "orderId": "20240826114322278999",
                          "goodsId": "19769011734",
                          "goodsName": "*康师傅茉莉蜜茶系列500ml",
                          "goodsCode": "ksfmlmcxl",
                          "buyCount": 1,
                          "costPrice": 0.000,
                          "salePrice": 2.550,
                          "costCountPrice": 0.00,
                          "saleCountPrice": 2.55,
                          "isRecognition": 1,
                          "recognition": 100.00
                      }
                  ],
                  "id": "2307771",
                  "orderId": "20240826114322278999",
                  "orderStatus": 70,
                  "refundStatus": 99,
                  "orderName": "智慧零售",
                  "isPay": 1,
                  "payWay": 0,
                  "payTime": "2024-08-26 11:44:17",
                  "userId": "17223906643714544677",
                  "deviceId": "MD0003",
                  "deviceName": "鑫贯金属多温-lm",
                  "administratorId": "164748790826984",
                  "doorOpen": "2024-08-26 11:43:35",
                  "doorClose": "2024-08-26 11:43:48",
                  "orderNotify": "2024-08-26 11:44:13",
                  "orderMoney": 2.55,
                  "priceOriginal": 2.55,
                  "priceCost": 0.00,
                  "priceDiscount": 0.00,
                  "priceProfit": 2.55,
                  "isDiscount": null,
                  "selfVideo1": "/20240826/mp4/20240826114322278999-1724643833305031615.mp4",
                  "selfVideo2": "/20240826/mp4/20240826114322278999-1724643833309004343.mp4",
                  "phone": "13533790426",
                  "createTime": "2024-08-26 11:43:23",
                  "activityId": "20240826114322278999",
                  "deviceType": "12"
              },
  }
  ```

##### 获取进行中的订单

- Endpoint： `/ongoingOrder/getList`

- Method：GET

- query 参数：

  - 分页默认参数
  - dealStatus：可选，状态，210:待处理 220:确定重新扣款(系统退款处理中) 230:扣款成功 240 扣款轮询中 250:扣款失败
  - orderId：可选，订单编号
  - deviceId：可选，设备编号
  - deviceNameLike：必须选设备名称（模糊查询）
  - phone：可选，手机号码
  - payWay:  可选，支付方式
  - isDiscount：可选，是否参与优惠
  - createTimeEnd：可选
  - createTimeStart：可选
  - refundStatus：退款状态枚举 99:无售后记录 100:售后中, 110:售后退款中, 120:售后审核不通过, 130:系统退款失败, 140:退款成功(或部分退款)

- 响应：

  如果接口带分页，则 result 字段是一个 page 对象，真正的结果放在 recodes 数组

  ```json
  "records": [
              {
                  "orderDetailList": [],
                  "id": "801884",
                  "orderId": "20240826115328079336",
                  "orderStatus": 5,
                  "refundStatus": null,
                  "orderName": "智慧零售",
                  "isPay": null,
                  "payWay": 0,
                  "payTime": null,
                  "userId": "17240805875812415521",
                  "deviceId": "RD3353",
                  "deviceName": "RD3353",
                  "administratorId": "172265351617622",
                  "doorOpen": null,
                  "doorClose": null,
                  "orderNotify": null,
                  "orderMoney": 0.00,
                  "priceOriginal": 0.00,
                  "priceCost": 0.00,
                  "priceDiscount": 0.00,
                  "priceProfit": 0.00,
                  "isDiscount": null,
                  "selfVideo1": "",
                  "selfVideo2": "",
                  "phone": "15723768974",
                  "createTime": "2024-08-26 11:53:28",
                  "activityId": "20240826115328079336",
                  "deviceType": "12"
              },
      ]
  ```

##### 获取单个进行中订单

- Endpoint： `/ongoingOrder/getOne`

- Method：GET

- query 参数：

  - id

- 响应：

  ```json
   "result": {
                  "orderDetailList": [
                      {
                          "orderId": "20240826114322278999",
                          "goodsId": "19769011734",
                          "goodsName": "*康师傅茉莉蜜茶系列500ml",
                          "goodsCode": "ksfmlmcxl",
                          "buyCount": 1,
                          "costPrice": 0.000,
                          "salePrice": 2.550,
                          "costCountPrice": 0.00,
                          "saleCountPrice": 2.55,
                          "isRecognition": 1,
                          "recognition": 100.00
                      }
                  ],
                  "id": "2307771",
                  "orderId": "20240826114322278999",
                  "orderStatus": 70,
                  "refundStatus": 99,
                  "orderName": "智慧零售",
                  "isPay": 1,
                  "payWay": 0,
                  "payTime": "2024-08-26 11:44:17",
                  "userId": "17223906643714544677",
                  "deviceId": "MD0003",
                  "deviceName": "鑫贯金属多温-lm",
                  "administratorId": "164748790826984",
                  "doorOpen": "2024-08-26 11:43:35",
                  "doorClose": "2024-08-26 11:43:48",
                  "orderNotify": "2024-08-26 11:44:13",
                  "orderMoney": 2.55,
                  "priceOriginal": 2.55,
                  "priceCost": 0.00,
                  "priceDiscount": 0.00,
                  "priceProfit": 2.55,
                  "isDiscount": null,
                  "selfVideo1": "/20240826/mp4/20240826114322278999-1724643833305031615.mp4",
                  "selfVideo2": "/20240826/mp4/20240826114322278999-1724643833309004343.mp4",
                  "phone": "13533790426",
                  "createTime": "2024-08-26 11:43:23",
                  "activityId": "20240826114322278999",
                  "deviceType": "12"
              },
  	}
  ```

##### 获取异常订单

> 获取全部异常订单支持多条件查询

- Endpoint： `tcOrderException/getList`

- Method：GET

- query 参数：

  - 分页默认参数
  - dealStatus：可选，状态，210:待处理 220:确定重新扣款(系统退款处理中) 230:扣款成功 240 扣款轮询中 250:扣款失败
  - orderId：可选，订单编号
  - deviceId：可选，设备编号
  - deviceNameLike：必须选设备名称（模糊查询）
  - phone：可选，手机号码
  - applyDeductTimeStart：可选，审核申请时间起点
  - applyDeductTimeEnd：可选，审核申请时间终点
  - userApplyTimeSort：可选，审核申请时间排序 0:升序 1:降序

- 响应：

  如果接口带分页，则 result 字段是一个 page 对象，真正的结果放在 recodes 数组

  ```json
  "result":{
      "recodes":[
        {
                  "id": "1766166642903830530",  
                  "deviceId": "R3600",    //设备编号
                  "deviceName": "爱黑马企服科技有限公司-LM",   //设备名称
                  "orderId": "20240309015008595259",  //订单编号
                  "userId": "16980264009033758230",  //用户id（消费者）
                  "phone": "13546969891",  //手机号
                  "administratorId": "164748790826984",  //商户id
                  "dealStatus": 210,	//异常订单状态  210:待处理 220:确定重新扣款(系统退款处理中) 230:扣款成功 240 扣款轮询中 250:扣款失败
                  "selfVideo1": null, //source是自己的时候，存放视频地址
                  "selfVideo2": null, //source是自己的时候，存放视频地址
                  "auditRemark": "", //审核备注
                  "priceRecognition": 3.00, //订单识别金额
                  "priceDeduct": 33.15, //实际扣款金额
                  "applyDeductTime": "2024-03-09 15:42:15", //管理员处理时间（点击开始扣款）
                  "successDeductTime": null,  //成功扣款时间（系统处理完毕时间）
                  "createTime": "2024-03-09 02:18:36",  //创建时间
                  "excDetailList": [		//异常商品信息列表
                      {
                          "id": "1766166642908024833",  
                          "exceptionId": "1766166642903830530",  //异常识别编号id
                          "orderId": "20240309015008595259",  //订单号
                          "goodsId": "unknown",		//商品id
                          "goodsName": "未知商品",	//商品名称
                          "buyCount": 1,		//修正前购买数量
                          "buyPayPrice": 3.00,	//修正前实际支付金额
                          "fixCount": 1,		//修正后实际购买数量
                          "fixPayPrice": 33.15,	//修正后实际支付金额
                          "updateTime": "2024-03-09 15:42:15",  //更新时间
                          "createTime": "2024-03-09 02:18:36"  //创建时间
                      },
                      //.............
                  ]
          },
      //.........
  	]
  }
  ```

##### 获取单个异常订单

> 配置异常订单

- Endpoint： `tcOrderException/getOne`

- Method：GET
- query参数：
  - id：必须，异常订单主键id

- 响应：

  ```json
  "result":{	
      
      "id": "1766166642903830530",           
      "deviceId": "R3600",    //设备编号      
      "deviceName": "爱黑马企服科技有限公司-LM",   //设备名称         
      "orderId": "20240309015008595259",  //订单编号      
      "userId": "16980264009033758230",  //用户id（消费者）         
      "phone": "13546969891",  //手机号         
      "administratorId": "164748790826984",  //商户id
      "dealStatus": 210,	//异常订单状态  210:待处理 220:确定重新扣款(系统退款处理中) 230:扣款成功 240 扣款轮询中 250:扣款失败
      "selfVideo1": null, //source是自己的时候，存放视频地址        
      "selfVideo2": null, //source是自己的时候，存放视频地址       
      "auditRemark": "", //审核备注       
      "priceRecognition": 3.00, //订单识别金额      
      "priceDeduct": 33.15, //实际扣款金额   
      "applyDeductTime": "2024-03-09 15:42:15", //管理员处理时间（点击开始扣款）     
      "successDeductTime": null,  //成功扣款时间（系统处理完毕时间）      
      "createTime": "2024-03-09 02:18:36",  //创建时间      
      "excDetailList": [		//异常商品信息列表
             {
                 "id": "1766166642908024833",  
                 "exceptionId": "1766166642903830530",  //异常识别编号id
                 "orderId": "20240309015008595259",  //订单号
                 "goodsId": "unknown",		//商品id
                 "goodsName": "未知商品",	//商品名称
                 "buyCount": 1,		//修正前购买数量
                 "buyPayPrice": 3.00,	//修正前实际支付金额
                 "fixCount": 1,		//修正后实际购买数量
                 "fixPayPrice": 33.15,	//修正后实际支付金额
                 "updateTime": "2024-03-09 15:42:15",  //更新时间
                 "createTime": "2024-03-09 02:18:36"  //创建时间
              }，
          //.........
         ]，
      
  }
  ```

##### 处理审核异常订单

- Endpoint： `/tcOrderException/auditExceptionOrder`

- Method：POST

- 请求示例：

  ```json
  {
      "id":"1766166642903830530", //异常编号id(主键)
      "orderId": "20240309015008595259",  //订单编号 
      "auditRemark": "",	//审核备注
      "orderFixList":[	//异常商品修正明细
         {
       		"id":"",			
             	"goodsId":"",		//商品id
             	"fixCount":0,		//修正后购买数量
             	"fixPayPrice":		//修正后购买金额
             	
         },
      ]
  }
  ```

  

- 响应：

  ```json
  {
      "success":true,
      "message":"请求成功",
      "code":200,
      "result":null,
      "timestamp":"1706247369420"
  }
  ```

##### 获取售后订单

> 获取全部售后订单支持多条件查询

- Endpoint： `tcOrderRefund/getList`

- Method：GET
- query参数：
  - 分页默认参数
  - id：可选，售后订单主键id
  - deviceId：可选，设备编号
  - orderId：可选，订单编号
  - dealStatus：可选，100:售后中, 110:售后退款中, 120:售后审核不通过, 130:系统退款失败, 140:退款成功(或部分退款)
  - userApplyTimeStart：申请时间起点
  - userApplyTimeEnd：申请时间终点
  - userApplyTimeSort：申请时间排序 0:升序 1:降序

- 响应：

  如果接口带分页，则 result 字段是一个 page 对象，真正的结果放在 records数组

  ```json
  "records": [
      {
       	"id": "1656878598535790593", 
        	"deviceId": "R3612", 		//设备id
        	"orderId": "20230512122302325331",		//订单id
          "userId": "16750864651606334073",		//用户id（消费者）
          "administratorId": "166961387332312",	//商户id
          "phone": "18602031843",					//手机号
          "refundType": 1,						//1：用户发起 2：商户发起
          "refundRemark": "其他",				   //用户或商户退款原因
          "platformNum": "4200001858202305120642771491", //第三方退款单号
          "dealStatus": 100,				//100:售后中, 110:售后退款中, 120:售后审核不通过, 130:系统退款失败, 140:退款成功(或部分退款)
          "auditRemark": null,					//审核备注
          "auditTime": null,						//管理员审核时间
          "priceOrder": 5.00,						//订单金额
          "refundGoodsIds": "12353620395",		//退款商品id组
          "goodsList": [							//退款商品明细
                {
                   "id": "396",				
                   "goodsId": "12353620395",		//商品编号
                   "recogId": "147626592879830001",//识别服务使用的id
                   "barcode": "6935284412130",	//商品条形码
                   "name": "卫龙大辣棒贼大78g",		//商品名称
                   "pic": "http://upload.hahabianli.com/img/201910/25/5db2b2d742c1c56419.png",  //商品图片地址
                   "code": "weilonglabang",		//哈哈商品编码
                   "saleMode": 1,					//商品售卖方式,0:未知,1:计件,2:计重,3:重量计件
                   "grossWeight": -1,				//商品毛重，单位 g
                   "salePrice": 0.00,				//销售价格
                   "costPrice": 0.00,				//成本价格
                   "suitType": "1,11,12",			//适用设备类型(逗号间隔组合多个) 1:(动态柜B型) 11:(l自用L型) 12:R型柜 13:Z型重力柜
                   "createTime": "2020-12-08 11:51:57",  
                   "type": 0,						//商品类型
                   "typeName": null,				//商品类型名称
                   "isSpecial": 0,				
                   "exceptional": false,
                   "abnormal": false,
                   "unknown": false
                    },
              	//........
              ],	
            "priceApply": 5.00,					//申请退款金额
            "userApplyTime": "2023-05-12 12:26:56",//申请退款时间
            "priceRefund": null,					//实际退款金额
            "successRefundTime": null,			//成功退款时间
            "sysDealLog": null,					//系统处理日志
            "createTime": "2023-05-12 12:26:56"   
      },
      //........
  ]
  ```

##### 获取单个售后订单信息

- Endpoint： `tcOrderRefund/getOne`

- Method：GET

- query参数：

  - id：必须，售后订单主键id

- 响应：

  ```json
  "result":{
      
      	"id": "1656878598535790593", 
        	"deviceId": "R3612", 		//设备id
        	"orderId": "20230512122302325331",		//订单id
          "userId": "16750864651606334073",		//用户id（消费者）
          "administratorId": "166961387332312",	//商户id
          "phone": "18602031843",					//手机号
          "refundType": 1,						//1：用户发起 2：商户发起
          "refundRemark": "其他",				   //用户或商户退款原因
          "platformNum": "4200001858202305120642771491", //第三方退款单号
          "dealStatus": 100,				//100:售后中, 110:售后退款中, 120:售后审核不通过, 130:系统退款失败, 140:退款成功(或部分退款)
          "auditRemark": null,					//审核备注
          "auditTime": null,						//管理员审核时间
          "priceOrder": 5.00,						//订单金额
          "refundGoodsIds": "12353620395",		//退款商品id组
          "goodsList": [							//退款商品明细
                {
                   "id": "396",				
                   "goodsId": "12353620395",		//商品编号
                   "recogId": "147626592879830001",//识别服务使用的id
                   "barcode": "6935284412130",	//商品条形码
                   "name": "卫龙大辣棒贼大78g",		//商品名称
                   "pic": "http://upload.hahabianli.com/img/201910/25/5db2b2d742c1c56419.png",  //商品图片地址
                   "code": "weilonglabang",		//哈哈商品编码
                   "saleMode": 1,					//商品售卖方式,0:未知,1:计件,2:计重,3:重量计件
                   "grossWeight": -1,				//商品毛重，单位 g
                   "salePrice": 0.00,				//销售价格
                   "costPrice": 0.00,				//成本价格
                   "suitType": "1,11,12",			//适用设备类型(逗号间隔组合多个) 1:(动态柜B型) 11:(l自用L型) 12:R型柜 13:Z型重力柜
                   "createTime": "2020-12-08 11:51:57",  
                   "type": 0,						//商品类型
                   "typeName": null,				//商品类型名称
                   "isSpecial": 0,				
                   "exceptional": false,
                   "abnormal": false,
                   "unknown": false
                    },
              	//........
              ],	
            "priceApply": 5.00,					//申请退款金额
            "userApplyTime": "2023-05-12 12:26:56",//申请退款时间
            "priceRefund": null,					//实际退款金额
            "successRefundTime": null,			//成功退款时间
            "sysDealLog": null,					//系统处理日志
            "createTime": "2023-05-12 12:26:56"   
      },
  
  }
  ```

##### 售后订单审核

- Endpoint： `tcOrderRefund/applyRefund`
- Method：GET
- 请求参数：
  - id：必须，售后订单主键id
  - isPass:  必须，是否通过审核 0:否 1:是(选择否,退款金额无效)
  - priceRefund:  必须，退款金额
  - auditRemark： 必须，审核信息

- 响应

  ```json
  {
      "success":true,
      "message":"请求成功",
      "code":200,
      "timestamp":"1706247369420"
  }
  ```

#### 1.2.2 提现

##### 获取可代提现金额（未上线）

- Endpoint： `/completedOrder/count`

- Method：GET

- 请求参数：

  - 

- 响应

  ```json
  "result": {
          "administratorId": "21",
          "wechatAmount": 0,
          "alipayAmount": 9.00
      },
  ```

##### 获取提现工单（未上线）

- Endpoint： `/transfer/record/getList`

- Method：GET

- 请求参数：

  - 分页默认参数

- 响应

  如果接口带分页，则 result 字段是一个 page 对象，真正的结果放在 records数组

  ```json
  "records":[
       {
              "id": 198438,
              "outBatchNo": "172476009220952",  //转账批次单号
              "outDetailNo": "168542407639724",		//转账明细单号
              "name": "刘景满",  						//转账名称
              "remark": "dada",						//转账备注
              "amount": 21,							//转账金额（分）
              "openid": "21213213",					//接收人openid			
              "status": 0,						//转账状态（0:已受理，1:转账中，2：已到账，3: 已失败， 4:已关闭
              "administrator": "2121",					//转账发起人id
           	"updateTime":"",
           	"createTime":""
              
          },
      //..........
  ]
  ```

  

##### 微信申请提现（未上线）

- Endpoint： `/wx/transfer/transfer`

- Method：POST

- 请求参数：

  - name：必须，转账人名称
  - remark：必须，转账备注
  - amount：必须，转账金额必须大于0(单位：分)
  - transferSceneId：转账场景ID(该批次转账使用的转账场景，如不填写则使用商家的默认场景
  - userName：收款方真实姓名

- 响应

  ```json
  {
      "success":true,
      "message":"请求成功",
      "code":200,
      "timestamp":"1706247369420"
  }
  ```

  

##### 支付宝申请提现（未上线）

- Endpoint： `/alipay/transfer/transfer`

- Method：POST

- 请求参数：

  - name：必须，转账名称
  - remark：必须，转账备注
  - amount：必须，转账金额必须大于0(单位：分)
  - account：必须，收款方的支付宝账号
  - transferSceneId：转账场景ID(该批次转账使用的转账场景，如不填写则使用商家的默认场景
  - userName：收款方真实姓名

- 响应

  ```json
  {
      "success":true,
      "message":"转账成功",
      "code":200,
      "timestamp":"1706247369420"
  }
  ```

  

#### 1.2.3 模板

##### 获取全部模板

- Endpoint： `/tcModel/getList`
- Method：GET
- query参数：
  - 分页默认参数
  - nickNameLike：必须，模板名称（模糊查询）
  - suitType：必须，设备适用类型 1:(哈哈B型,动态柜) 11:(自用L型) 12:R型柜

- 响应

  如果接口带分页，则 result 字段是一个 page 对象，真正的结果放在 recodes 数组

  ```json
  "records": [
              {
                  "id": "1826508925255405569",
                  "nickName": "文德精工模具 -520L",		//模板自定义名称
                  "suitType": "12",				    // 设备适用类型 1:(哈哈B型,动态柜) 11:(自用L型) 12:R型柜
                  "bindDeviceList": [					//绑定设备列表
                      {
                          "id": "3696",				
                          "deviceId": "MD0056",		//设备编号
                          "name": "MD0056",			//设备自定义名称
                          "venueName": null			
                      }
                  ],		
                  "remark": "95折",					//备注
                  "creator": "admin",					 //创建人
                  "createTime": "2024-08-22 14:37:17"
              },
      	//..........
      ]，
  ```

##### 获取模板的商品列表

- Endpoint： `/tcModel/getModelGoodsList`
- Method：GET
- query参数：
  - modId：必须，模板id

- 响应

  如果接口带分页，则 result 字段是一个 page 对象，真正的结果放在 recodes 数组

  ```json
  "recodes"[
    	{
          "goodsId": "12779222932",		//商品编号
          "salePrice": 4.75,				//销售价格
          "costPrice": 4.16,				//成本价
          "stockNum": 70,					//标准库存
          "saleMode": 1,					//商品售卖方式,0:未知,1:计件,2:计重,3:重量计件
          "layer": 1,						//商品排放层数
          "urlPhoto": "https://yun.letmelife.com//20210602/jpg/1622616181470004725.jpg",     //商品图片地址
          "goodsName": "*东鹏特饮瓶装500ml",//商品名称
          "isBind": 1						//是否已经绑定 0:否 1:是
          
        },
      //........
  ],
  ```

##### 获取单个模板信息

- Endpoint： `/tcModel/getOne`
- Method：GET
- query参数：
  - id：必须，模板主键

- 响应

  ```json
  "result"{
      
       "id": "1824336602154778625",			
       "nickName": "顺康荣新材料 -520L",			//模板自定义名称
       "suitType": "12",							// 设备适用类型 1:(哈哈B型,动态柜) 11:(自用L型) 12:R型柜
       "bindDeviceList": [						//绑定设备列表
           {			
               "id": "3701",						
               "deviceId": "R3838",				//设备编号
               "name": "顺康荣新材料-LM",			//设备自定义名称
               "venueName": null
           }
       ],
       "remark": "88折",							//备注
       "creator": null,							//创建人
       "createTime": "2024-08-16 14:45:15"
      
  }
  ```

##### 模板编辑或新增

- Endpoint： `/tcModel/updateOrEdit`

- Method：POST

- 请求参数：

  ```json
  {
  	"deviceList": [						//必须，绑定设备组
  		{
  			"deviceId": "B2104",		//必须，设备编号
  			"deviceType": 0				//必须，设备类型 1:(哈哈B型,动态柜) 11:(自用L型),12:(自用双摄像头) 13:Z型重力柜
  		}
  	],	
  	"goodsList": [						//必须，绑定商品组(最少绑定1个商品,最多一次绑定50个商品)
  		{
  			"costPrice": 0,				//必须，成本价
  			"goodsId": "12779222932",	//必须，商品id
  			"layer": 1,					//必须，商品排放层数
  			"saleMode": 1,				//必须，商品售卖方式,0:未知,1:计件,2:计重,3:重量计件
  			"salePrice": 2.1,			//必须，销售价格
  			"stockNum": 10				//必须，标准库存
  
  		}
  	],
  	"id": "",							
  	"nickName": "文德精工模具 -520L",		//必须，模板自定义名称
  	"remark": "96折",					//必须，备注
  	"suitType": "11"，					//必须，适用设备类型 1:(哈哈B型,动态柜) 11:(自用L型) 12:R型柜 13:Z型重力柜
  }
  ```

- 响应

  ```json
  {
      "success":true,
      "message":"请求成功",
      "code":200,
      "timestamp":"1706247369420"
  }
  ```

##### 获取全部总商品库（针对模板使用）

- Endpoint： `/tcModel/getAllGoodsList`

- Method：POST

- 请求参数：

  - 分页默认参数
  - modId：必须，模板id
  - goodsId：可选，商品编号
  - barcode：可选，条形码
  - nameLike：可选，商品名称
  - suitType： 可选，适用类型

- 响应

  如果接口带分页，则 result 字段是一个 page 对象，真正的结果放在 recodes 数组

  ```json
  "records": [
      
           {
                  "goodsId": "12692220002",			//商品编号
                  "salePrice": 4.00,					//销售价格
                  "costPrice": 3.00,					//成本价
                  "stockNum": 0,						//标准库存
                  "saleMode": 1,						//商品售卖方式,0:未知,1:计件,2:计重,3:重量计件
                  "layer": null,						//商品排放层数
                  "urlPhoto": "https://yun.letmelife.com//20211115/png/1636968087306079318.png",		//品图片地址
                  "goodsName": "露露杏仁露植物蛋白饮料罐装240ml",		//商品名称
                  "isBind": 0							//是否已经绑定 0:否 1:是
            },
              //.........
      
   ],
  ```

##### 单体删除模板

- Endpoint： `/tcModel/delOneById`

- Method：GET

- 请求参数：

  - id：必须，主键id

- 响应

  ```json
  {
      "success":true,
      "message":"请求成功",
      "code":200,
      "timestamp":"1706247369420"
  }
  ```

#### 1.2.4 商品库

##### 获取总商品库列表

- Endpoint： `/tcGoods/getList`

- Method：GET

- 请求参数：

  - 分页默认参数
  - nameLike：商品名称（模糊查询）

- 响应

  如果接口带分页，则 result 字段是一个 page 对象，真正的结果放在 recodes 数组

  ```json
  "records": [
              {
                  "id": "3",
                  "goodsId": "12692220002",				//商品编号
                  "recogId": "3891855167607275520",		//识别服务使用的id
                  "barcode": "6901808188881",				//商品条形码
                  "name": "露露杏仁露植物蛋白饮料罐装240ml",	//商品名称
                  "pic": "https://yun.letmelife.com//20211115/png/1636968087306079318.png",			//商品图片地址
                  "code": "luluxingrenlu",				//哈哈商品编码
                  "saleMode": 1,							//商品售卖方式,0:未知,1:计件,2:计重,3:重量计件
                  "grossWeight": -1,						//商品毛重，单位 g
                  "salePrice": 4.00,						//销售价格
                  "costPrice": 3.00,						//成本价格
                  "suitType": "1,11,12",				//适用设备类型(逗号间隔组合多个) 1:(动态柜B型) 11:(l自用L型) 12:R型柜 13:Z型重力柜
                  "createTime": "2020-12-08 11:51:57",	//创建时间	
                  "type": 12,								//商品类型
                  "typeName": "奶制品",					  //商品类型名称
                  "isSpecial": 0,							
                  "exceptional": false,
                  "abnormal": false,
                  "unknown": false
              },
              //..........
     ],
  ```

#### 1.2.5 营销

##### 获取活动列表

- Endpoint： `/tcActivity/getActivityList`

- Method：GET

- 请求参数：

  - 分页默认参数
  - activityNameLike：可选，活动名（模糊查询）
  - activityType：活动类型，可选，1：新客立减，2随机立减，3满减，4红包
  - administratorId：可选，创建者
  - createTimeStart： 可选，创建时间开始
  - createTimeEnd：可选，创建时间终点
  - createTimeSort：可选，创建时间排序 0:升序 1:降序
  - deviceId：可选，参与设备编号
  - status：可选，活动状态，0：未启动，1：进行中，2冻结，3结束

- 响应

  如果接口带分页，则 result 字段是一个 page 对象，真正的结果放在 recodes 数组

  ```json
  "records": [
              {
                  "id": "1802664431800107010",
                  "activityName": "支付宝优惠券",				//活动名
                  "activityType": 3,						   //活动类型，1：新客立减，2随机立减，3满减，4红包，5优惠卷，6预充值，7件数达标
                  "activityTypeName": "商品满减",				 
                  "createTime": "2024-06-17 19:27:47",
                  "banner": "https://static.letmelife.com/image/202406/17/1718623561665029570.jpg",   
                  "startTime": "2024-06-18 19:27:19",			//开始时间
                  "endTime": "2024-06-30 19:26:54",			//结束时间
                  "status": 3,
                  "statusName": "结束",						   //活动状态，0：未启动，1：进行中，2冻结，3结束
                  "deviceList": [
                      {
                          "id": "156",
                          "deviceId": "L1801",
                          "deviceName": "L1801"
                      }，
                      //......
                  ],
                  "adminName": "fxjsf",						//创建者
                  "administratorId": "161710997043181",
                  "mark": ""									//备注
              },
      	//......
      ],
  ```

##### 查看活动详情

- Endpoint： `/tcActivity/loadActivityByPrimKey`

- Method：GET

- 请求参数：

  - activityId：必须，活动id

- 响应

  ```json
  "result": {
      
          "id": "1656128212317257729",				//活动id
          "adminId": null,							//创建人id
          "activityName": "R3601 新客活动",	 		 //活动名称
          "startTime": "2023-05-10 11:00:00",			//开始时间
          "endTime": "2023-05-20 00:00:00",			//结束时间
          "banner": "/20230510/png/1683686613131066281.png",
          "activityType": 2,							//活动类型，1：新客立减，2随机立减，3满减，4红包，5优惠卷，6预充值，7件数达标
          "mark": "",									//备注
          "deviceList": [								//关联设备
              {
                  "id": "R3601",
                  "deviceId": "R3601",
                  "deviceName": "YM-正亮弯钢厂-LM"
              }.
              //.........
          ],
          "ruleList": [								//活动规则，件数达标和3满减满减可以有多个规则，其他只有一个
              {
                  "newCustCutMoney": null,			//新客立减多少元，新客立减必填	
                  "newCustCutCill": null,				//新客立减门槛，新客立减必填
                  "randomCutMax": 3.00,				//随机立减最大值，随机立减必填
                  "randomCutMin": 0.50,				//随机立减最小值，随机立减必填
                  "randomCutAverage": 1.50,			//随机立减期望值/均值，随机立减均值
                  "fullCutCill": null,				//满减门槛，商品满减必填
                  "fullCutMoney": null,				//满减多少元，商品满减必填
                  "redPackSendCill": null,			//红包获得门槛，满赠红包必填
                  "redPackUseCill": null,				//红包使用门槛，满赠红包必填
                  "redPackMoney": null,				//红包金额，满赠红包
                  "redPackTimeLimit": null,			//红包时长期限，单位小时，满赠红包
                  "redPackCountLimit": null			//领取优惠券数量上限
              },
              //........
          ]
      
      },
  ```

##### 关闭活动

- Endpoint： `/tcActivity/closeActivity`

- Method：POST

- 请求参数：

  - activityId：必须，活动id

- 响应

  ```json
  {
      "success":true,
      "message":"请求成功",
      "code":200,
      "timestamp":"1706247369420"
  }
  ```

##### 保存活动

- Endpoint： `/tcActivity/saveActivity`

- Method：POST

- 请求参数：

  ```json
  {
      
          "id": "1656128212317257729",				//活动id
          "adminId": null,							//创建人id
          "activityName": "R3601 新客活动",	 		 //活动名称
          "startTime": "2023-05-10 11:00:00",			//开始时间
          "endTime": "2023-05-20 00:00:00",			//结束时间
          "banner": "/20230510/png/1683686613131066281.png",
          "activityType": 2,							//活动类型，1：新客立减，2随机立减，3满减，4红包，5优惠卷，6预充值，7件数达标
          "mark": "",									//备注
          "deviceList": [								//关联设备
              {
                  "id": "R3601",
                  "deviceId": "R3601",
                  "deviceName": "YM-正亮弯钢厂-LM"
              }，
              //........
          ],
          "ruleList": [								//活动规则，件数达标和3满减满减可以有多个规则，其他只有一个
              {
                  "newCustCutMoney": null,			//新客立减多少元，新客立减必填	
                  "newCustCutCill": null,				//新客立减门槛，新客立减必填
                  "randomCutMax": 3.00,				//随机立减最大值，随机立减必填
                  "randomCutMin": 0.50,				//随机立减最小值，随机立减必填
                  "randomCutAverage": 1.50,			//随机立减期望值/均值，随机立减均值
                  "fullCutCill": null,				//满减门槛，商品满减必填
                  "fullCutMoney": null,				//满减多少元，商品满减必填
                  "redPackSendCill": null,			//红包获得门槛，满赠红包必填
                  "redPackUseCill": null,				//红包使用门槛，满赠红包必填
                  "redPackMoney": null,				//红包金额，满赠红包
                  "redPackTimeLimit": null,			//红包时长期限，单位小时，满赠红包
                  "redPackCountLimit": null			//领取优惠券数量上限
              },
              //........
          ]
  
  }
  ```

- 响应

  ```json
  {
      "success":true,
      "message":"请求成功",
      "code":200,
      "timestamp":"1706247369420"
  }
  ```

#### 1.2.6 销售统计

##### 设备销售统计

- Endpoint： `/selectSalesData/getDeviceSalesData`

- Method：GET

- 请求参数：

  - 分页默认参数
  - timeBegin：可选，开始时间
  - timeEnd：可选，结束时间
  - orderBy：可选，根据什么字段排序
  - sortType：可选，排序类型，desc，asc
  - deviceId：可选，设备编号
  - deviceNameLike：可选，设备名称（模糊查询）

- 响应

  如果接口带分页，则 result 字段是一个 page 对象，真正的结果放在 recodes 数组

  ```json
   "records": [
       
            {
                  "deviceId": "RD3354",		//设备id
                  "deviceName": "RD3354",		//设备名称
                  "adminName": "刘仕木",		  //所属商户
                  "orderCount": 204,			//订单量
                  "totalOriginal": 1958.0,	//原价总额
                  "salesVolume": 1958.0,		//销售额
                  "totalDiscount": 0.0,		//优惠总额
                  "averageValue": 9.6			//客单价
            },
   	//......    
   ]
  ```

##### 商品销售统计

- Endpoint： `/selectSalesData/getGoodsSalesData`

- Method：GET

- 请求参数：

  - 分页默认参数
  - timeBegin：可选，开始时间
  - timeEnd：可选，结束时间
  - orderBy：可选，根据什么字段排序
  - sortType：可选，排序类型，desc，asc
  - goodsNameLike：可选，商品名称（模糊查询）

- 响应

  如果接口带分页，则 result 字段是一个 page 对象，真正的结果放在 recodes 数组

  ```json
  "records": [
              {
                  "goodsId": "12779222932",				//商品id
                  "goodsName": "*东鹏特饮瓶装500ml",		//商品编号
                  "barcode": "6934502301850",				//条形码
                  "deviceId": null,						//设备id
                  "orderCount": 3389,						//订单量
                  "goodsCount": 4735,						//商品销售数量
                  "averagePrice": 4.75,					//平均单价
                  "salesVolume": 22477.39					//销售金额
              },
      //.........
      ]，
  ```

##### 营销销售统计

- Endpoint： `/selectSalesData/selectActivitySaleData`

- Method：GET

- 请求参数：

  - 分页默认参数
  - timeBegin：可选，开始时间
  - timeEnd：可选，结束时间
  - activityName：可选，活动名称
  - activityType：可选，活动类型
  - activityStatus：可选，活动状态
  - createTimeSort：可选，创建时间排序
  - orderColumn：可选，排序字段
  - descFlag：排序规则，desc，asc

- 响应

  如果接口带分页，则 result 字段是一个 page 对象，真正的结果放在 recodes 数组

  ```json
  "recodes":[
      
      {
      activityName:"",				//活动名
      activityType:"",				//活动类型，1：新客立减，2随机立减，3满减，4红包，5优惠卷，6预充值，7件数达标
      activityStatus:"",				//活动状态
      orderCount:"",					//活动订单
      sumDiscount:"",					//优惠金额
      sumSalePrice:"",				//销售金额
      },
      //......
      
  ],
  ```
  

#### 1.2.7 通知

##### 获取公告信息列表

- Endpoint：`/tcSysNotice/getNoticeList`

- Method：GET

- 请求参数：

  - 分页默认参数
  - createTimeEnd：可选，创建时间,结束
  - createTimeStart：可选，创建时间,开始
  - status：可选，处理状态,0：未处理，1：已处理

- 响应

  如果接口带分页，则 result 字段是一个 page 对象，真正的结果放在 recodes 数组

  ```json
  "records": [
  			{
  				"activityName": "",				//活动名     
  				"activityType": 0,				//活动类型，1：新客立减，2随机立减，3满减，4红包，5优惠卷，6预充值，7件数达标
  				"activityTypeName": "",			
  				"adminName": "",				//创建者
  				"administratorId": "",			
  				"banner": "",
  				"createTime": "",				//创建时间
  				"deviceList": [					//关联设备
  					{
  						"deviceId": "",
  						"deviceName": "",
  						"id": ""
  					}
  				],
  				"endTime": "",					//结束时间
  				"id": "",
  				"mark": "",						//备注
  				"startTime": "",				//开始时间
  				"status": 0,					//huoo
  				"statusName": ""，				//活动状态，0:未启动", "1:进行中", "2:冻结", "3:结束
  			}，
      		//..........
  		],
  ```

##### 获取报修信息列表

- Endpoint：`/tcDeviceRepair/list`

- Method：GET

- 请求参数：

  - 分页默认参数
  - createTimeEnd：可选，创建时间,结束
  - createTimeStart：可选，创建时间,开始
  - status：可选，处理状态,0：未处理，1：已处理

- 响应

  如果接口带分页，则 result 字段是一个 page 对象，真正的结果放在 recodes 数组

  ```json
   "records": [
              {
                  "id": "13380",	
                  "deviceId": "R3845",					//设备编号
                  "status": 0,							//处理状态数值，0-未处理，1-已处理
                  "statusName": "未读",						//处理状态中文名字
                  "createTime": "2024-08-23 05:26:02",	//报修时间
                  "problem": "其他",						//故障描述
                  "phone": "13481861464",					//手机号码
                  "pic": "[]"								//图片
              },
       //...........
       ]
  ```

##### 获取预警信息列表

- Endpoint：`/tcWarningNotice/getList`

- Method：GET

- 请求参数：

  - 分页默认参数
  - createTimeEnd：可选，预警时间终点
  - createTimeStart：可选，预警时间开始
  - status：可选，处理状态,0：未处理，1：已处理

- 响应

  如果接口带分页，则 result 字段是一个 page 对象，真正的结果放在 recodes 数组

  ```json
  "records": [
              {
                  "id": "1826526219167715329",
                  "deviceId": "R3654",					//故障设备id
                  "deviceName": "NF2-农科所宿舍楼-LM",		//设备名称
                  "fromAdminId": "164748790826984",		//该消息属于哪个商户,admin表的user_id
                  "createTime": "2024-08-22 15:46:01",	//创建时间
                  "warningType": 9,	//预警信息类型,1:摄像头开启异常,2:门锁开启异常,3:扬声器开启异常，8：连续开门失败，9：连续未购买
                  "delFlag": 0,
                  "dealTime": "2024-08-23 09:24:17",		//处理时间
                  "dealAdminId": "157677632431501",		//处理它的商户/超级管理员
                  "status": 1,							//状态,0:待处理,1:已经处理,2:已流转
                  "statusName": "已处理",				
                  "warningTypeName": "连续未购买"			 //预警信息名称
              },
      //.........
      ],
  ```

##### 获取用户反馈信息列表

- Endpoint：`/tcUserAdvice/list`

- Method：GET

- 请求参数：

  - 分页默认参数
  - userId：可选，反馈用户id
  - way：可选，反馈方式
  - deviceId：可选，设备id
  - readFlag：可选，处理状态，0：未读，1：已读

- 响应

  如果接口带分页，则 result 字段是一个 page 对象，真正的结果放在 recodes 数组

  ```json
  "records": [
              {
                  "id": "1",
                  "deviceId": "B001",
                  "administratorId": "",
                  "userId": "17240545755030841771",
                  "phone": "17576077242",
                  "way": 0,
                  "content": "cececece",
                  "createTime": "2024-08-24 17:53:38",
                  "readFlag": 0,
                  "readFlagName": "未读"
              }，
      //...........
      ]
  ```


##### 修改用户反馈信息为已读

- Endpoint：`/tcUserAdvice/edit/read`

- Method：POST

- 请求参数：

  - id：必须，反馈主键

- 响应

  ```json
  {
      "success": true,
      "message": "请求成功",
      "code": 200,
      "result": null,
      "timestamp": "1724641086838"
  }
  ```

##### 修改公告信息为已读

- Endpoint：`/tcSysNotice/readNotice`

- Method：POST

- 请求参数：

  - id：必须，主键

- 响应

  ```json
  {
      "success": true,
      "message": "请求成功",
      "code": 200,
      "result": null,
      "timestamp": "1724641086838"
  }
  ```

##### 修改保修信息为已读

- Endpoint：`/tcDeviceRepair/dealDeviceRepair`

- Method：POST

- 请求参数：

  - id：必须，主键

- 响应

  ```json
  {
      "success": true,
      "message": "请求成功",
      "code": 200,
      "result": null,
      "timestamp": "1724641086838"
  }
  ```

##### 处理预警信息

- Endpoint：`/tcWarningNotice/dealNotice`

- Method：POST

- 请求参数：

  - id：必须，主键

- 响应

  ```json
  {
      "success": true,
      "message": "请求成功",
      "code": 200,
      "result": null,
      "timestamp": "1724641086838"
  }
  ```

### 1.3 设备

##### 获取设备信息列表

- Endpoint：`/tcDeviceInfo/getList`

- Method：GET

- 请求参数：

  - 分页默认参数
  - id：可选，主键
  - deviceId：可选，设备编号
  - isOnline：可选，在线状态 0.离线 1.在线

- 响应

  如果接口带分页，则 result 字段是一个 page 对象，真正的结果放在 recodes 数组

  ```json
   "records": [
              {
                  "id": "3827",
                  "administratorId": "157677632431501",		//商户编号
                  "venueId": "",								//场地编号
                  "venueName": null,							//场地名称
                  "modId": null,								//模板id
                  "deviceId": "RA0013",						//设备编号
                  "imei": "ZHA06061100055",					//设备IMEI码
                  "name": "RA0013",							//设备自定义名称
                  "deviceType": 12,							//设备类型
                  "province": "",								//省份
                  "city": "",									//城市
                  "district": "",								//区县
                  "detailAddress": "",						//设备详细地址
                  "address": "address",						//设备完整地址
                  "wgsLng": null,								
                  "wgsLat": null,								
                  "gcjLng": null,
                  "gcjLat": null,
                  "bdLng": null,
                  "bdLat": null,
                  "isOnline": "0",							//在线状态
                  "status": "1",								//设备状态
                  "hasScreen": 0,								//是否有屏幕
                  "warningNum": 20.00,						//阈值(缺货报警值)单位百分比
                  "administratorName": "admin",				//商户名称
                  "modName": null,							//模板名称
                  "simNo": "",								//sim卡号
                  "addressTypeTag": "",						//地址类型标签
                  "version": "3716566e"						//设备型号版本
              },
       //............
       ],
  ```

##### 获取设备库存

> 获取设备的总的库存信息，包括当前库存，标准库存

- Endpoint：`/tcDeviceStock/getDeviceStockList`
- Method：GET
- 请求参数：

  - deviceId: 设备id
- 返回数据结构：

```json
"records": [
            {
                "deviceId": "R3847",  
                "name": "合晨金属制品-LM",  
                "deviceType": 12,  
                "address": "广东省佛山市南海区桂丹西路丹灶镇高鹏大道5号合晨金属制品",  
                "fixStockNum": 0, 
                "residueNum": 219,  //剩余库存，也就是当前库存
                "stockNum": 395,    //标准库存
                "stockWeight": null,
                "residueWeight": null,
                "saleMode": null,
                "stockStatus": "库存充足",  
                "stockStatusCode": 1,
                "warningNum": 20.00  //预警值
            }
]
```

##### 获取设备库存详情

> 获取设备库存的详细信息

- Endpoint：`/tcDeviceStock/getDeviceStockDetailList`
- Method：GET
- 请求参数：

  - deviceId: 设备id
- 返回数据结构：

```json
"records": [
            {
                "goodsId": "10440010158", //商品id
                "stockNum": 0,  //商品库存
                "residueNum": 0,   // 剩余库存
                "stockWeight": 0, //标准重量(克)
                "residueWeight": 0,  //剩余重量(克)
                "saleMode": 1,
                "urlPhoto": "https://static.letmelife.com/image/202311/23/10440010158-goods-preview.jpg",  // 图片地址
                "goodsName": "农夫山泉力量帝 维他命水蓝莓树莓风味500ml"  //商品名称
            },
            {
                "goodsId": "12137823502",
                "stockNum": 7,
                "residueNum": 5,
                "stockWeight": 0,
                "residueWeight": 0,
                "saleMode": 1,
                "urlPhoto": 	"http://upload.hahabianli.com/img/201810/18/5bc80cafc6c1f86775.png",
                "goodsName": "*维他柠檬茶软包装250ml"
            }
]
```

### 1.4 补货

##### 设备开门接口

> 设备开门

- Endpoint：`/tcXcxDevice/openDeviceByAdmin`
- Method：GET
- 请求参数：

  - deviceId: 必须，设备id
  - doorIndex：从 0 开始的门下标, 设备二维码没有这个参数可以不用传
- 返回数据结构：

```json
	"result": {
		"activityId": "",			//哈哈订单号
		"hahaUserId": "",			
		"orderId": "",
		"orderPackage": ""
	},
```

##### 编辑库存阈值

- Endpoint：`/tcDeviceStock/getDeviceStockDetailList`

- Method：POST

- 请求参数：

  - deviceId: 必须，设备id
  -  warningNum：必须，警告阈值(数字,2位小数)

- 返回数据结构：

- ```json
  {
      "success":true,
      "message":"请求成功",
      "code":200,
      "timestamp":"1706247369420"
  }
  ```

##### 提交上货单

- Endpoint：`/courier/uploadDetail`

- Method：POST

- 请求参数：

  ```json
  {
    "recordId": "123456",
    "detail": [
      {
        "goodsId": "213211",
        "name": "维他奶",
        "count": 10,
        "residueNum": 5
      },
      {
        "goodsId": "232111",
        "name": "维他奶",
        "count": 8,
        "residueNum": 3
      }
    ]
  }
  ```

- 返回数据结构：

  ```json
  {
  	"body": { 
         "message":"操作成功"，
      },
  	"statusCode": "200",		
  	"statusCodeValue": 0
  }
  ```
